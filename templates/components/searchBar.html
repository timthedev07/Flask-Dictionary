{% macro searchBar(existingQuery="") %}
  <div class="input-group mb-3">
    <input id="search-input" type="text" class="form-control bg-dark text-white" placeholder="Search term..." aria-describedby="basic-addon2" value="{{existingQuery}}" />
    <div class="input-group-append">
      <button id="search-go-button" class="btn btn-success" type="button">Go</button>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const goButton = document.getElementById("search-go-button");
        const queryInput = document.getElementById("search-input");

        const handleGoSearch = () => {
          const query = queryInput.value;
          window.location.replace(`/search?q=${query}`);
        };

        goButton.addEventListener("click", handleGoSearch);
        queryInput.addEventListener("keydown", (e) => {
          if (e.key === "Enter") {
            handleGoSearch();
          }
        })

      })
    </script>
  </div>
{% endmacro %}
